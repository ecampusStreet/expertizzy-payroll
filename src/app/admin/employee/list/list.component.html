<div class="flex-auto">
  <div class="flex flex-col">
    <app-content-navbar [isBack]="false" [title]="title"> </app-content-navbar>
    <div class="bg-gray-100">
      <div class="m-3">
        <div class="flex justify-end items-center">
          <div class="w-full">
            <mat-form-field class="example-full-width w-full search-box m-0">
              <span matPrefix> </span>
              <input #input
                type="text"
                matInput
                placeholder="Search here"
                name="search"
                [(ngModel)]="searchText"
                (input)="search()"
              />
              <button matSuffix mat-button>
                <mat-icon (click)="search()">search</mat-icon>
              </button>
            </mat-form-field>
          </div>
          <div class="mx-2 flex">

            <button mat-button color="primary" *ngIf="!filtersLength" (click)="openPopup()">
              <mat-icon>filter_alt</mat-icon>
            </button>
            <button mat-button color="primary" *ngIf="filtersLength > 0" matBadge="{{filtersLength}}" (click)="openPopup()">
              <mat-icon>filter_alt</mat-icon>
            </button>
            <button mat-button color="primary" (click)="download()">
              <mat-icon>download</mat-icon>
            </button>
          </div>
          <div class="ml-2" *ngIf="permissions?.manage || permissions?.add" >
            <button mat-raised-button color="primary" (click)="add()">
              Create employee
            </button>
          </div>
        </div>
      </div>

      <no-data-found *ngIf="!employeeList.length"></no-data-found>
      <app-tabledata *ngIf="employeeList.length && permissions"
        [list]="employeeList"
        [titles]="tableheader"
        [permission]="permissions"
        (eventAction)="action($event)"
      ></app-tabledata>

      <div class="flex justify-center ml-3 mt-3 mb-3 mr-3">
        <button
          mat-raised-button
          color="primary"
          (click)="loadMore()"
          *ngIf="employeeList.length && count > employeeList.length"
        >
          Load more
        </button>
      </div>
    </div>
  </div>
</div>
